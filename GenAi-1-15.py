from transformers import pipeline


def main():
    """Генерация текста с использованием модели GPT-2.
    
    Основная функция для взаимодействия с пользователем и генерации
    текста на основе введенного промпта с использованием модели GPT-2.

    Parameters
    ----------
    None
        Функция не принимает параметры, все данные получает от пользователя.

    Returns
    -------
    None
        Функция выводит результат в консоль, не возвращает значений.

    Raises
    ------
    Модель GPT-2 является трансформерной языковой моделью, разработанной OpenAI.
    Генерация текста происходит авторегрессивно - каждый следующий токен
    предсказывается на основе предыдущих.

    Для работы требуется установленная библиотека transformers
    Examples
    --------
    >>> # Запуск из командной строки:
    >>> # python GenAi-1-15.py
    >>> # enter prompt: 'Ввести промт'
    >>> # answer: 'Придсказание токенов на основе предыдущих'
    """
    # Инициализация пайплайна для генерации текста с моделью GPT-2
    generator = pipeline(
        "text-generation",  # Тип задачи: генерация текста
        model="gpt2"        # Используемая предобученная модель
    )

    # Получение входного текста от пользователя
    prompt = input("enter prompt")

    # Генерация текста на основе введенного промпта
    result = generator(
        prompt,           # Входной текст для продолжения генерации
        min_length=30,    # Минимальная длина генерируемого текста в токенах
        max_length=50     # Максимальная длина генерируемого текста в токенах
    )

    # Вывод сгенерированного текста (первый результат из списка)
    print("answer", result[0]["generated_text"])


if __name__ == '__main__':
    # Точка входа в программу при запуске скрипта напрямую
    main()
